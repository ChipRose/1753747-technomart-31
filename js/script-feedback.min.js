const buttonFeedBack=document.querySelector(".button-contacts"),body=document.querySelector(".page-body"),feedBackWindow=document.querySelector(".feed-back-window"),closeFeedBack=feedBackWindow.querySelector(".close-feedback"),feedBackForm=feedBackWindow.querySelector(".feed-back-form"),feedBackNameInput=feedBackWindow.querySelector(".name-input"),feedBackEmailInput=feedBackWindow.querySelector(".email-input"),feedBackTextInput=feedBackWindow.querySelector(".text-area"),feedBackSubmit=feedBackForm.querySelector(".feed-back-submit"),alert=feedBackWindow.querySelector(".alert");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}buttonFeedBack.addEventListener("click",function(e){e.preventDefault(),feedBackWindow.classList.add("active"),feedBackWindow.classList.add("active-animation"),feedBackNameInput.focus(),storageName?(feedBackNameInput.value=storageName,feedBackEmailInput.focus()):feedBackNameInput.focus(),storageEmail?(feedBackEmailInput.value=storageEmail,feedBackTextInput.focus()):feedBacEmailInput.focus(),body.classList.add("body-blocked")}),feedBackForm.addEventListener("submit",function(e){feedBackNameInput.value&&feedBackEmailInput.value?isStorageSupport&&(localStorage.setItem("name",feedBackNameInput.value),localStorage.setItem("email",feedBackEmailInput.value)):(e.preventDefault(),alert.classList.add("active-block"),feedBackWindow.classList.remove("modal-error"),feedBackWindow.offsetWidth=feedBackWindow.offsetWidth,feedBackWindow.classList.add("modal-error"),feedBackNameInput.addEventListener("focus",function(){alert.classList.remove("active-block")}),feedBackEmailInput.addEventListener("focus",function(){alert.classList.remove("active-block")}))}),feedBackSubmit.addEventListener("blur",function(){feedBackNameInput.focus()}),closeFeedBack.addEventListener("click",function(){feedBackWindow.classList.remove("active"),feedBackWindow.classList.remove("active-animation"),body.classList.remove("body-blocked"),feedBackWindow.classList.remove("modal-error"),alert.classList.remove("active-block")}),window.addEventListener("keydown",function(e){"Escape"===e.code&&feedBackWindow.classList.contains("active")&&(e.preventDefault(),feedBackWindow.classList.remove("active"),feedBackWindow.classList.remove("active-animation"),body.classList.remove("body-blocked"),feedBackWindow.classList.remove("modal-error"))});